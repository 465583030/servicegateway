{
  "applications": {
    "customers": {
      "backend": {
        "password": "N87rCfo1psubE7SzMBMndUr74Va4my2u",
        "service": "elwis",
        "username": "coabfrontend"
      },
      "routing": {
        "patterns": {
          "/v1/accounts/:accountIdentifier": "/rest/v2/accounts/:accountIdentifier",
          "/v1/customers/:customernumber": "/rest/v2/customers/:customernumber",
          "/v1/customers/:customernumber/accounts": "/rest/v2/accounts/customers/:customernumber/accounts",
          "/v1/customers/:customernumber/contactperson": "/rest/v2/customers/:customernumber/contactperson",
          "/v1/customers/:customernumber/contractpartner": "/rest/v2/customers/:customernumber/contractpartner"
        },
        "type": "pattern"
      }
    }
  },
  "rate_limiting": {
    "window": "15m",
    "burst": 1000
  },
  "consul": {
    "host": "consul.service.consul",
    "port": 8500,
    "datacenter": "dev"
  },
  "redis": {
    "address": "redis:6379",
    "database": 0
  },
  "proxy": {
    "strip_res_headers": {
      "Set-Cookie": true
    },
    "set_req_headers": {
      "X-Mittwald-Sandbox": "1"
    },
    "set_res_headers": {
      "Server": "Mittwald-API-Gateway/1.0"
    },
    "options": {
      "enabled": true,
      "cors": true
    }
  },
  "authentication": {
    "mode": "rest",
    "writer": {
      "mode": "header",
      "name": "X-JWT"
    },
    "provider": {
      "url": "http://identity.service.consul",
      "allow_authentication": true,
      "authentication_uri": "/v1/authenticate",
      "parameter_format": "json",
      "hook_pre_authentication": "./example-configs/api.d/auth_param_map.js",
      "parameters": {
        "ttl": 86400,
        "providers": [
          "public"
        ]
      }
    },
    "verification_key": null,
    "verification_key_url": "http://identity.service.consul/key",
    "key_cache_ttl": "5m"
  },
  "logging": [
    {
      "type": "apache",
      "filename": "./access.log"
    },
    {
      "type": "amqp",
      "uri": "amqp://servicegateway:password@rabbitmq/",
      "exchange": "audit_log"
    }
  ]
}
